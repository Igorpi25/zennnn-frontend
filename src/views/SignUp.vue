<template>
  <div class="h-screen flex">
    <div class="container h-full flex-shrink-0 hidden sm:flex flex-col bg-gray-700" style="width: 44%">
      <div class="h-24"></div>
      <div class="flex-grow pl-8 pt-32">
        <div class="pt-2 pl-12 pb-12">
          <svg width="113" height="19" viewBox="0 0 113 19" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M93.902 11.5428C95.0845 10.1878 96.1355 8.92025 97.2742 7.65266C99.2011 5.51087 101.172 3.41279 103.449 1.66438C104.15 1.13986 104.894 0.527924 105.902 0.659054C107.303 0.877604 108.266 1.62067 108.836 2.93198C109.011 3.36908 108.967 3.71876 108.661 4.11215C106.734 6.64733 105.113 9.40106 104.281 12.5045C104.194 12.8104 104.15 13.1601 104.15 13.5098C104.15 13.9469 104.456 14.1217 104.85 13.9032C105.332 13.5972 105.814 13.2913 106.208 12.8979C107.697 11.4117 109.142 9.88187 110.587 8.35202C111.025 7.91492 111.288 7.8275 111.682 8.17718C112.164 8.57057 112.295 9.1388 111.989 9.53219C109.931 11.9799 107.916 14.4714 105.332 16.4384C104.544 17.0503 103.624 17.5748 102.661 17.9682C100.821 18.755 99.2449 17.7497 99.0697 15.7827C98.9383 14.1655 99.4639 12.6793 100.033 11.2369C101.128 8.61428 102.573 6.16652 104.15 3.76247C103.493 4.37441 102.792 4.94264 102.179 5.55458C98.8507 8.78912 95.6976 12.2422 92.9386 15.9576C92.5882 16.4384 92.2817 16.9192 92.0189 17.4437C91.581 18.2305 90.8365 18.449 90.0482 17.9682C89.0847 17.3563 88.7781 16.351 88.6906 15.3019C88.6468 14.8211 88.7344 14.3403 88.7344 13.8595C87.8147 14.69 86.9388 15.5642 85.9315 16.3072C85.0995 16.9192 84.1798 17.4874 83.2163 17.9245C81.2894 18.755 79.7128 17.7497 79.5814 15.6516C79.4939 14.078 80.0194 12.6356 80.5887 11.1932C81.6398 8.57057 83.085 6.16652 84.6615 3.76247C84.0046 4.37441 83.3039 4.94264 82.6908 5.55458C79.3625 8.78912 76.2093 12.2422 73.4503 15.9576C73.1 16.4384 72.7934 16.9192 72.5306 17.4437C72.0927 18.2305 71.3482 18.449 70.5599 17.9682C69.5965 17.3563 69.2899 16.351 69.2023 15.3019C69.1585 14.8211 69.2461 14.3403 69.2461 13.8595C68.3264 14.69 67.4505 15.5642 66.4433 16.3072C65.6112 16.9192 64.6915 17.4874 63.7281 17.9245C61.8011 18.755 60.2246 17.706 60.0932 15.6516C60.0056 14.078 60.4873 12.5919 61.1004 11.1932C61.6698 9.92558 62.2829 8.61428 62.9836 7.3904C63.6843 6.16652 64.4726 4.98635 65.1733 3.76247C64.5164 4.37441 63.8157 4.94264 63.2025 5.55458C59.8742 8.78912 56.7211 12.2422 53.962 15.9576C53.6117 16.4384 53.3051 16.9192 53.0424 17.4437C52.6044 18.2305 51.8599 18.449 51.0716 17.9682C50.1082 17.3563 49.8016 16.351 49.714 15.3019C49.6702 14.8211 49.7578 14.384 49.8016 13.7721C49.5389 14.0343 49.3637 14.2092 49.1447 14.4277C47.6995 15.8264 46.2543 17.1814 44.3274 17.9245C42.3129 18.7113 40.7363 17.706 40.6049 15.5642C40.5173 14.0343 41.0428 12.5919 41.6122 11.1932C42.6194 8.7017 43.977 6.38507 45.5098 4.24328C45.5974 4.11215 45.685 3.98102 45.685 3.76247C45.0281 4.37441 44.3274 4.94264 43.7143 5.55458C40.5173 8.78912 37.3642 12.2422 34.6052 15.9576C34.2548 16.4384 33.9482 16.9192 33.6855 17.4437C33.2475 18.2305 32.503 18.449 31.7148 17.9682C30.7513 17.3563 30.4447 16.351 30.4009 15.3019C30.3571 14.7337 30.4885 14.1217 30.5323 13.5098C29.963 13.9906 29.3937 14.4714 28.7806 14.9522C26.8536 16.4384 24.7953 17.706 22.3429 18.0556C21.2918 18.2305 20.1532 18.2305 19.1021 17.9682C16.5621 17.3563 15.2045 15.1271 15.73 12.4608C16.6935 7.47782 19.4087 3.67505 23.7881 1.09615C24.5764 0.615344 25.5836 0.353084 26.5033 0.265664C29.8754 -0.084016 32.0651 2.80085 30.7513 5.90426C29.4813 8.96396 25.4084 11.4991 22.0801 11.1495C21.6422 11.1057 21.248 11.0183 20.7663 10.9309C20.5035 11.7614 20.3721 12.5919 20.5473 13.4661C20.6787 14.1217 21.0728 14.5151 21.7736 14.6463C23.2188 14.9085 24.5326 14.5151 25.8026 13.9469C28.4302 12.723 30.5761 10.9309 32.4155 8.74541C33.2037 7.78379 33.6855 6.5162 34.3862 5.46716C35.3496 4.02473 36.4007 2.5823 37.4518 1.22728C38.0211 0.484214 38.5466 0.440504 39.3787 0.965025C39.6852 1.13986 39.948 1.40212 40.167 1.66438C40.8239 2.40745 40.8239 2.75714 40.2108 3.50021C38.4152 5.90426 36.8824 8.52686 35.6124 11.2369C35.5686 11.2806 35.5686 11.368 35.5248 11.4991C36.7073 10.1441 37.7583 8.87654 38.8969 7.60895C40.8239 5.46716 42.7946 3.36908 45.0719 1.62067C45.7726 1.09615 46.5171 0.484214 47.5243 0.615344C48.9257 0.833894 49.8892 1.57696 50.4585 2.88827C50.6337 3.32537 50.5899 3.67505 50.2834 4.06844C48.3564 6.60362 46.7361 9.35735 45.904 12.4608C45.7726 12.8979 45.7288 13.5972 45.9916 13.8158C46.4295 14.1655 46.9112 13.6409 47.2178 13.335C48.7944 11.8051 50.4147 10.2753 51.9037 8.61428C52.692 7.69637 53.0862 6.47249 53.7869 5.46716C54.7503 3.98102 55.8014 2.5823 56.8962 1.18357C57.4655 0.440504 57.9911 0.396794 58.7794 0.921314C59.0859 1.09615 59.3925 1.35841 59.6552 1.66438C60.3121 2.40745 60.3121 2.71343 59.699 3.50021C57.8159 5.90426 56.3269 8.52686 55.0569 11.2806C55.0131 11.3243 55.0131 11.4117 54.9693 11.5428C56.1517 10.1878 57.2028 8.92025 58.3414 7.65266C60.2684 5.51087 62.2391 3.41279 64.5164 1.66438C65.2171 1.13986 65.9616 0.527924 66.9688 0.659054C68.3702 0.877604 69.3337 1.62067 69.903 2.93198C70.0782 3.36908 70.0344 3.71876 69.7278 4.11215C67.8009 6.64733 66.1805 9.40106 65.3484 12.5045C65.2609 12.8104 65.2171 13.1164 65.2171 13.3787C65.2171 13.9469 65.5236 14.1217 65.9616 13.8158C66.3995 13.5535 66.8374 13.2475 67.1878 12.8979C68.5454 11.5428 69.9468 10.2315 71.173 8.78912C72.0051 7.8275 72.4868 6.55991 73.1875 5.46716C74.151 4.02473 75.202 2.5823 76.2969 1.18357C76.8662 0.440504 77.3917 0.440504 78.18 0.921314C78.4866 1.09615 78.7932 1.35841 79.0559 1.66438C79.7128 2.40745 79.7128 2.71343 79.0997 3.50021C77.2604 5.90426 75.7714 8.52686 74.5014 11.2806C74.4576 11.3243 74.4576 11.4117 74.4576 11.5428C75.7714 10.0567 76.9538 8.57057 78.3114 7.17185C80.107 5.33603 82.0339 3.54392 83.917 1.7518C84.1798 1.48954 84.4864 1.35841 84.7929 1.13986C86.5009 -0.171436 89.0409 1.35841 89.4789 3.15053C89.5664 3.41279 89.4351 3.84989 89.2599 4.06844C87.333 6.64733 85.7126 9.40106 84.8367 12.5045C84.7491 12.7667 84.7053 13.0727 84.7053 13.335C84.6615 13.9469 85.0119 14.1655 85.4936 13.8158C85.9315 13.5535 86.3695 13.2475 86.7636 12.8541C88.0774 11.5428 89.4789 10.2753 90.6613 8.83283C91.4934 7.8275 91.9751 6.55991 92.7196 5.46716C93.6831 4.02473 94.7341 2.5823 95.829 1.18357C96.3983 0.440504 96.9238 0.396794 97.7121 0.921314C98.0187 1.09615 98.3252 1.35841 98.588 1.66438C99.2449 2.40745 99.2449 2.75714 98.6318 3.50021C96.7924 5.90426 95.3034 8.52686 94.0334 11.2369C93.9458 11.3243 93.902 11.4117 93.902 11.5428ZM21.248 9.5759C21.8611 9.44477 22.3429 9.44477 22.7808 9.22622C25.2771 8.13347 26.7661 6.0791 27.8171 3.63134C27.9923 3.19424 28.2988 2.62601 27.8171 2.27632C27.3792 1.97035 26.8536 2.27633 26.5033 2.62601C25.5836 3.4565 24.7077 4.28699 23.9194 5.2049C22.8246 6.42878 21.9487 7.87121 21.248 9.5759Z" fill="white"/>
            <path d="M11.6572 3.93729C10.1682 4.19955 8.72302 4.33068 7.36542 4.63665C6.70851 4.76778 4.03708 5.24859 3.51156 4.33068C3.07362 3.71874 3.46776 2.80083 3.51156 2.53857C3.59914 2.10147 3.55535 1.62066 3.68673 1.22727C3.81811 0.87759 4.12467 0.83388 4.47502 0.96501C4.86917 1.13985 5.3071 1.3584 5.70125 1.40211C8.76682 1.62066 11.8324 1.57695 14.8542 0.96501C14.898 0.96501 14.9855 0.9213 15.0293 0.9213C16.3432 0.61533 16.6497 0.74646 17.3066 1.97034C17.4818 2.32002 17.6132 2.6697 17.657 3.01938C17.7008 3.23793 17.5694 3.58761 17.3504 3.71874C13.5841 6.73473 10.0368 10.1004 6.48954 13.4224C6.31436 13.5972 6.09539 13.7283 5.87642 13.9032C5.92022 13.9469 5.96401 13.9469 6.00781 13.9906C6.66471 13.9906 7.32162 13.9469 8.02232 13.9906C8.98579 14.0343 9.99305 14.078 10.9565 14.2091C12.1389 14.4277 13.0148 15.5642 13.0148 16.7006C13.0148 17.4 12.8396 17.4874 12.2703 17.1814C12.0076 17.0503 11.7448 17.0066 11.4382 17.0066C9.42373 16.8755 7.453 17.2251 5.48228 17.6185C4.78158 17.7497 4.03708 17.9245 3.33638 18.0993C2.76706 18.2305 2.19774 18.1868 1.71601 17.7934C0.796337 17.0503 0.183223 16.1324 0.00804783 14.9522C-0.035746 14.4714 0.0956355 14.078 0.48978 13.6846C3.46776 11.0183 6.40195 8.352 9.37993 5.68569C10.0806 5.11746 10.8689 4.59294 11.6572 3.93729Z" fill="white"/>
          </svg>
        </div>
        <div class="pt-1">
          <div class="flex text-lg text-gray-100 pb-6">
            <div class="mr-4">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.58947 11.9648L16.8212 21.1965L14.0176 24L4.78595 14.7683L7.58947 11.9648Z" fill="#7E99D0"/>
                <path d="M27.2141 10.8035L14.0176 24L11.2141 21.1965L24.4106 8L27.2141 10.8035Z" fill="#7E99D0"/>
              </svg>
            </div>
            <div v-html="'Не&nbsp;требует обучения'" class="pt-1"></div>
          </div>
          <div class="flex text-lg text-gray-100 pb-6">
            <div class="mr-4">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.58947 11.9648L16.8212 21.1965L14.0176 24L4.78595 14.7683L7.58947 11.9648Z" fill="#7E99D0"/>
                <path d="M27.2141 10.8035L14.0176 24L11.2141 21.1965L24.4106 8L27.2141 10.8035Z" fill="#7E99D0"/>
              </svg>
            </div>
            <div v-html="'Облачные технологии'" class="pt-1"></div>
          </div>
          <div class="flex text-lg text-gray-100 pb-6">
            <div class="mr-4">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.58947 11.9648L16.8212 21.1965L14.0176 24L4.78595 14.7683L7.58947 11.9648Z" fill="#7E99D0"/>
                <path d="M27.2141 10.8035L14.0176 24L11.2141 21.1965L24.4106 8L27.2141 10.8035Z" fill="#7E99D0"/>
              </svg>
            </div>
            <div v-html="'Международные документы<br>в пару кликов'" class="pt-1"></div>
          </div>
          <div class="flex text-lg text-gray-100 pb-6">
            <div class="mr-4">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.58947 11.9648L16.8212 21.1965L14.0176 24L4.78595 14.7683L7.58947 11.9648Z" fill="#7E99D0"/>
                <path d="M27.2141 10.8035L14.0176 24L11.2141 21.1965L24.4106 8L27.2141 10.8035Z" fill="#7E99D0"/>
              </svg>
            </div>
            <div v-html="'Мультиязычность'" class="pt-1"></div>
          </div>
        </div>
      </div>
      <div class="h-24 flex items-center pl-20">
        <div class="flex">
          <svg class="cursor-pointer text-gray-200 hover:text-gray-100 mr-5" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0)">
            <path d="M8.00267 3.89197C5.73401 3.89197 3.89734 5.73063 3.89734 7.9973C3.89734 10.266 5.73601 12.1026 8.00267 12.1026C10.2713 12.1026 12.108 10.264 12.108 7.9973C12.108 5.72863 10.2693 3.89197 8.00267 3.89197ZM8.00267 10.662C6.53001 10.662 5.33801 9.4693 5.33801 7.9973C5.33801 6.5253 6.53067 5.33263 8.00267 5.33263C9.47467 5.33263 10.6673 6.5253 10.6673 7.9973C10.668 9.4693 9.47534 10.662 8.00267 10.662Z" fill="currentColor"/>
            <path d="M11.2986 0.050746C9.82664 -0.0179206 6.18064 -0.0145873 4.7073 0.050746C3.41264 0.111413 2.27064 0.424079 1.34997 1.34475C-0.188698 2.88341 0.0079684 4.95675 0.0079684 7.99741C0.0079684 11.1094 -0.165365 13.1347 1.34997 14.6501C2.89464 16.1941 4.99797 15.9921 8.00264 15.9921C11.0853 15.9921 12.1493 15.9941 13.2393 15.5721C14.7213 14.9967 15.84 13.6721 15.9493 11.2927C16.0186 9.82008 16.0146 6.17475 15.9493 4.70141C15.8173 1.89275 14.31 0.189413 11.2986 0.050746ZM13.6286 13.6321C12.62 14.6407 11.2206 14.5507 7.9833 14.5507C4.64997 14.5507 3.3133 14.6001 2.33797 13.6221C1.21464 12.5041 1.41797 10.7087 1.41797 7.98675C1.41797 4.30341 1.03997 1.65075 4.73664 1.46141C5.58597 1.43141 5.83597 1.42141 7.97397 1.42141L8.00397 1.44141C11.5566 1.44141 14.344 1.06941 14.5113 4.76541C14.5493 5.60875 14.558 5.86208 14.558 7.99675C14.5573 11.2914 14.62 12.6361 13.6286 13.6321Z" fill="currentColor"/>
            <path d="M12.2707 4.68954C12.8005 4.68954 13.23 4.26003 13.23 3.7302C13.23 3.20038 12.8005 2.77087 12.2707 2.77087C11.7408 2.77087 11.3113 3.20038 11.3113 3.7302C11.3113 4.26003 11.7408 4.68954 12.2707 4.68954Z" fill="currentColor"/>
            </g>
            <defs>
            <clipPath id="clip0">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
          </svg>
          <svg class="cursor-pointer text-gray-200 hover:text-gray-100 mr-5" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0)">
            <path d="M10.6646 2.65667H12.1253V0.112667C11.8733 0.078 11.0066 0 9.9973 0C7.8913 0 6.44863 1.32467 6.44863 3.75933V6H4.12463V8.844H6.44863V16H9.29797V8.84467H11.528L11.882 6.00067H9.2973V4.04133C9.29797 3.21933 9.5193 2.65667 10.6646 2.65667Z" fill="currentColor"/>
            </g>
            <defs>
            <clipPath id="clip0">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
          </svg>
          <svg class="cursor-pointer text-gray-200 hover:text-gray-100 mr-5" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0)">
            <path d="M13.2767 8.6855C13.018 8.35883 13.092 8.2135 13.2767 7.9215C13.28 7.91816 15.4153 4.9675 15.6353 3.96683L15.6367 3.96616C15.746 3.6015 15.6367 3.3335 15.108 3.3335H13.3587C12.9133 3.3335 12.708 3.5635 12.598 3.82083C12.598 3.82083 11.7073 5.95283 10.4473 7.33483C10.0407 7.73416 9.85267 7.86216 9.63067 7.86216C9.52133 7.86216 9.35133 7.73416 9.35133 7.3695V3.96616C9.35133 3.52883 9.22667 3.3335 8.858 3.3335H6.10733C5.828 3.3335 5.662 3.5375 5.662 3.7275C5.662 4.14216 6.292 4.2375 6.35733 5.40416V7.9355C6.35733 8.49016 6.25667 8.59216 6.03333 8.59216C5.43867 8.59216 3.99533 6.4515 3.14 4.0015C2.96733 3.52616 2.79867 3.33416 2.35 3.33416H0.6C0.100667 3.33416 0 3.56416 0 3.8215C0 4.27616 0.594666 6.53683 2.76533 9.5235C4.212 11.5622 6.24933 12.6668 8.10267 12.6668C9.21667 12.6668 9.35267 12.4215 9.35267 11.9995C9.35267 10.0515 9.252 9.8675 9.81 9.8675C10.0687 9.8675 10.514 9.9955 11.554 10.9788C12.7427 12.1448 12.938 12.6668 13.6033 12.6668H15.3527C15.8513 12.6668 16.104 12.4215 15.9587 11.9375C15.626 10.9195 13.378 8.8255 13.2767 8.6855Z" fill="currentColor"/>
            </g>
            <defs>
            <clipPath id="clip0">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
          </svg>
          <svg class="cursor-pointer text-gray-200 hover:text-gray-100 mr-5" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0)">
            <path d="M6.278 10.1205L6.01333 13.8432C6.392 13.8432 6.556 13.6805 6.75266 13.4852L8.528 11.7885L12.2067 14.4825C12.8813 14.8585 13.3567 14.6605 13.5387 13.8618L15.9533 2.54716L15.954 2.54649C16.168 1.54916 15.5933 1.15916 14.936 1.40382L0.742663 6.83782C-0.226004 7.21382 -0.211337 7.75382 0.577997 7.99849L4.20666 9.12716L12.6353 3.85316C13.032 3.59049 13.3927 3.73582 13.096 3.99849L6.278 10.1205Z" fill="currentColor"/>
            </g>
            <defs>
            <clipPath id="clip0">
            <rect width="16" height="16" fill="white"/>
            </clipPath>
            </defs>
          </svg>
          <svg class="cursor-pointer text-gray-200 hover:text-gray-100" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.32 3.56C14.886 2.788 14.415 2.646 13.456 2.592C12.498 2.527 10.089 2.5 8.002 2.5C5.911 2.5 3.501 2.527 2.544 2.591C1.587 2.646 1.115 2.787 0.677 3.56C0.23 4.331 0 5.659 0 7.997C0 7.999 0 8 0 8C0 8.002 0 8.003 0 8.003V8.005C0 10.333 0.23 11.671 0.677 12.434C1.115 13.206 1.586 13.346 2.543 13.411C3.501 13.467 5.911 13.5 8.002 13.5C10.089 13.5 12.498 13.467 13.457 13.412C14.416 13.347 14.887 13.207 15.321 12.435C15.772 11.672 16 10.334 16 8.006C16 8.006 16 8.003 16 8.001C16 8.001 16 7.999 16 7.998C16 5.659 15.772 4.331 15.32 3.56ZM6 11V5L11 8L6 11Z" fill="currentColor"/>
          </svg>
        </div>
      </div>
    </div>
    <div class="container h-full flex-grow flex flex-col">
      <div class="h-24 flex items-center justify-end text-gray-200 pr-20">
        <span class="pr-1">{{ $t('signup.hasAccount') }}</span>
        <router-link
          :to="{ name: 'signin' }"
          class="text-blue-500 hover:text-blue-600"
        >
           <span>{{ $t('signup.signin') }}</span>
        </router-link>
      </div>
      <div class="max-w-sm flex-grow ml-24 pt-32">
        <div class="pb-10 font-semibold text-2xl">Регистрация</div>
        <ZForm
          ref="form"
          v-model="formValidity"
        >
          <ZTextField
            v-model="formModel.firstName"
            :placeholder="$t('signup.firstName')"
            :rules="[rules.required]"
            class="pb-6"
            name="firstName"
            autofocus
          >
          </ZTextField>
          <ZTextField
            v-model="formModel.lastName"
            :placeholder="$t('signup.lastName')"
            :rules="[rules.required]"
            class="pb-6"
            name="lastName"
          >
          </ZTextField>
          <ZTextField
            ref="email"
            v-model="formModel.email"
            :placeholder="$t('signup.login')"
            :rules="[rules.required, rules.email]"
            class="pb-6"
            type="email"
            name="email"
          >
          </ZTextField>
          <ZTextField
            v-model="formModel.password"
            :placeholder="$t('signup.password')"
            :type="showPassword ? 'text' : 'password'"
            :rules="[rules.required, rules.passwordMinLength]"
            class="pb-6"
            name="password"
            minlength="8"
          >
            <template v-slot:append>
              <div
                class="cursor-pointer select-none"
                @click="showPassword = !showPassword"
              >
                <svg v-if="showPassword" width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z" fill="#353535"/>
                </svg>
                <svg v-else width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z" fill="#353535"/>
                </svg>
              </div>
            </template>
          </ZTextField>
          <Checkbox
            :rules="[rules.required]"
            class="pb-12"
          >
            <span class="ml-3 float-left">
              {{ $t('signup.acceptPolicyAndTerms') }}&nbsp;
              <a class="text-blue-500 hover:text-blue-600" href="#">{{ $t('signup.privacyPolicy') }}</a>
              &nbsp;{{ $t('preposition.and') }}&nbsp;
              <a class="text-blue-500 hover:text-blue-600" href="#">{{ $t('signup.termsOfUse') }}</a>
            </span>
          </Checkbox>
        </ZForm>
        <ZButton
          :disabled="formValidity"
          :loading="loading"
          class="w-48"
          @click="onSubmit"
        >
          Зарегистрироваться
        </ZButton>
      </div>
      <div class="h-24 flex items-center text-sm text-gray-200 ml-24">
        <div class="my-auto">
          <div>
            ©2019 ZENNNN. <a href="#" class="text-blue-500 hover:text-blue-600">Пользовательское соглашение</a>
          </div>
          <div>{{ frontendVersion }}</div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { mdiEyeOutline, mdiEyeOffOutline } from '@mdi/js'

export default {
  name: 'SignUp',
  data () {
    return {
      frontendVersion: process.env.FRONTEND_VERSION || '',
      formValidity: false,
      loading: false,
      errorMessage: '',
      showPassword: false,
      formModel: {
        firstName: '',
        lastName: '',
        email: '',
        password: '',
      },
      icons: {
        mdiEyeOutline,
        mdiEyeOffOutline,
      },
      rules: {
        required: v => !!v || this.$t('rule.required'),
        email: v => /.+@.+\..+/.test(v) || this.$t('rule.email'),
        passwordMinLength: v => (v && v.length > 7) || this.$t('rule.minLength', { n: 8 }),
      },
    }
  },
  methods: {
    async onSubmit (e) {
      try {
        e.preventDefault()
        this.loading = true
        this.errorMessage = ''
        const isValid = this.$refs.form.validate()
        if (isValid) {
          const { firstName, lastName, email, password } = this.formModel
          const response = await this.$Auth.signUp(
            email,
            password,
            {
              family_name: lastName,
              given_name: firstName,
              email,
              locale: this.$i18n.locale,
            },
          )
          this.$logger.info('Registered user', response.user)
          const username = response.user && response.user.username
          // set username to sessionStorage and check on Welcome page mounted
          // moved from on apollo cache, removed on page reload
          sessionStorage.setItem('Cognito-registered-username', username)
          this.$router.push({ name: 'welcome' })
        }
      } catch (error) {
        this.errorMessage = error.message || error
        this.$logger.warn('Error: ', error)
      } finally {
        this.loading = false
      }
    },
  },
}
</script>
